## **Домашнее задание №4:**
**Работа с базами данных, пользователями и правами**

1.  Создаем новый кластер postgreSQL 14 и заходим в него под пользователем postgres.
    im 1
2.  Создаем новую базу данных testdb и заходим в созданную базу данных под пользователем postgres.
    im2
3.  Создаем новую схему testnm, далее создадим новую таблицу t1 с одной колонкой c1 типа integer и вставим строку со значением c1=1.
    im3
4.  Cоздадим новую роль readonly,дадим новой роли право на подключение к базе данных testdb, предоставим новой роли право на использование схемы testnm, дадим новой роли право на select для всех таблиц схемы testnm.
    im 4
5.  Создадим пользователя testread с паролем test123 и дадим роль readonly пользователю testread.
    5 im
6.  Зайдем под пользователем testread в базу данных testdb и выполним команду: select * from t1;
    6 im
7. Не получилось, запрос выдал ошибку, так как нашу таблицу мы создали в схеме public.
    7 im
8. Вернемся в базу данных testdb под пользователем postgres, удалите таблицу t1, создадим ее заново но уже с явным указанием имени схемы testnm
и вставим строку со значением c1=1.
    8 im
9.  Зайдем под пользователем testread в базу данных testdb, сделаем select * from testnm.t1. Как видим, запрос выдал ошибку. Так как давали права до того, как создали t1 в нужной нам схеме.
    9 im
10. Раздаем grant по новой и выполняем select * from testnm.t1;. Запрос без ошибок.
    10 im
11.  Теперь попробуйте выполнить команды
    create table t2(c1 integer); insert into t2 values (2);
    Отработало без ошибок, так как в searth_path у нас в searth_path указана схема public, а создавать в ней данные можно под любым пользовавтелем.
    11 im 
12. Чтобы такое избежать, уберем у роли public права.
    12 im
13. Порядок, пользователь теперь не имеет прав на создание таблиц.
    13 im

